{"ast":null,"code":"var _jsxFileName = \"D:\\\\New folder\\\\LibraryManagementSystem-MERN-main\\\\client\\\\src\\\\pages\\\\RentedBooks.js\",\n  _s = $RefreshSig$();\nimport axios from 'axios';\nimport React, { useEffect, useState } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst RentedBooks = () => {\n  _s();\n  const [rentedBookDataLoading, setRentedBookDataLoading] = useState(true);\n  const [rentedBookData, setRentedBookData] = useState([]);\n  const [bookId, setBookId] = useState(\"\");\n  const [rentId, setRentId] = useState(\"\");\n  useEffect(() => {\n    fetchRentedBookData();\n  }, [rentedBookData]);\n  useEffect(() => {\n    fetchRentedBookData();\n  }, []);\n  const setConfirm = async (bookId, rentId) => {\n    const formData = new FormData();\n    await axios.put(`http://localhost:8080/api/books/setConfirmed/${rentId}`).then(async res => {\n      await axios.put(`http://localhost:8080/api/books/decreaseAvailability/${bookId}`).then(res => {}).catch(err => {\n        console.log(err);\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n  const setCancel = async (bookId, rentId) => {\n    await axios.put(`http://localhost:8080/api/books/setCancel/${rentId}`).then(async res => {\n      await axios.put(`http://localhost:8080/api/books/increaseAvailability/${bookId}`).then(res => {}).catch(err => {\n        console.log(err);\n      });\n    }).catch(err => {\n      console.log(err);\n    });\n  };\n  const fetchRentedBookData = async () => {\n    setRentedBookDataLoading(true);\n    try {\n      const {\n        data: response\n      } = await axios.get(`http://localhost:8080/api/books/rented-books`);\n      setRentedBookData(response);\n    } catch (error) {\n      console.error(error.message);\n    }\n    setRentedBookDataLoading(false);\n  };\n  useEffect(() => {\n    fetchRentedBookData();\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      paddingTop: '80px'\n    },\n    children: /*#__PURE__*/_jsxDEV(\"table\", {\n      class: \"table\",\n      children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n        children: /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"#\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Book Id\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 83,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Book Name\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"User\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 85,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Days\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 86,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Rent Fee\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 87,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"col\",\n            children: \"Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 88,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n        children: rentedBookData.map((bookItem, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n          children: [/*#__PURE__*/_jsxDEV(\"th\", {\n            scope: \"row\",\n            children: index + 1\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 94,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: bookItem.bookId\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: bookItem.bookTitle\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: bookItem.user\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: bookItem.days\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 98,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: bookItem.rentFee\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 99,\n            columnNumber: 29\n          }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n            children: !bookItem.isConfirmed ? /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              class: \"btn btn-primary\",\n              onClick: () => {\n                setConfirm(bookItem.bookId, bookItem._id);\n              },\n              children: \"Confirm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 102,\n              columnNumber: 37\n            }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              class: \"btn btn-danger\",\n              onClick: () => {\n                setCancel(bookItem.bookId, bookItem._id);\n              },\n              name: bookItem._id,\n              children: \"Cancel\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 108,\n              columnNumber: 37\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 25\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 77,\n    columnNumber: 9\n  }, this);\n};\n_s(RentedBooks, \"ER8Z0/vQNGPgyn23/x5ioSKqVNw=\");\n_c = RentedBooks;\nexport default RentedBooks;\nvar _c;\n$RefreshReg$(_c, \"RentedBooks\");","map":{"version":3,"names":["axios","React","useEffect","useState","RentedBooks","rentedBookDataLoading","setRentedBookDataLoading","rentedBookData","setRentedBookData","bookId","setBookId","rentId","setRentId","fetchRentedBookData","setConfirm","formData","FormData","put","then","res","catch","err","console","log","setCancel","data","response","get","error","message","paddingTop","map","bookItem","index","bookTitle","user","days","rentFee","isConfirmed","_id"],"sources":["D:/New folder/LibraryManagementSystem-MERN-main/client/src/pages/RentedBooks.js"],"sourcesContent":["import axios from 'axios';\nimport React, { useEffect, useState } from 'react'\n\n\nconst RentedBooks = () => {\n\n    const [rentedBookDataLoading, setRentedBookDataLoading] = useState(true);\n    const [rentedBookData, setRentedBookData] = useState([]);\n\n    const [bookId, setBookId] = useState(\"\");\n    const [rentId, setRentId] = useState(\"\");\n\n    useEffect(() => {\n        fetchRentedBookData();\n    }, [rentedBookData]);\n\n    useEffect(() => {\n        fetchRentedBookData();\n    }, []);\n\n    const setConfirm = async (bookId, rentId) => {\n\n        const formData = new FormData();\n\n        await axios.put(`http://localhost:8080/api/books/setConfirmed/${rentId}`)\n            .then(async (res) => {\n                await axios.put(`http://localhost:8080/api/books/decreaseAvailability/${bookId}`)\n                    .then(res => {\n\n                    })\n                    .catch(err => {\n                        console.log(err);\n                    });\n            })\n            .catch(err => {\n                console.log(err);\n            });\n\n    }\n\n    const setCancel = async (bookId, rentId) => {\n\n        await axios.put(`http://localhost:8080/api/books/setCancel/${rentId}`)\n            .then(async(res) => {\n                await axios.put(`http://localhost:8080/api/books/increaseAvailability/${bookId}`)\n                    .then(res => {\n\n                    })\n                    .catch(err => {\n                        console.log(err);\n                    });\n            })\n            .catch(err => {\n                console.log(err);\n            });\n\n    }\n\n    const fetchRentedBookData = async () => {\n        setRentedBookDataLoading(true);\n        try {\n            const { data: response } = await axios.get(`http://localhost:8080/api/books/rented-books`);\n            setRentedBookData(response);\n\n        } catch (error) {\n            console.error(error.message);\n        }\n        setRentedBookDataLoading(false);\n    }\n\n    useEffect(() => {\n        fetchRentedBookData();\n    }, []);\n\n\n    return (\n        <div style={{ paddingTop: '80px' }}>\n\n            <table class=\"table\">\n                <thead>\n                    <tr>\n                        <th scope=\"col\">#</th>\n                        <th scope=\"col\">Book Id</th>\n                        <th scope=\"col\">Book Name</th>\n                        <th scope=\"col\">User</th>\n                        <th scope=\"col\">Days</th>\n                        <th scope=\"col\">Rent Fee</th>\n                        <th scope=\"col\">Status</th>\n                    </tr>\n                </thead>\n                <tbody>\n                    {rentedBookData.map((bookItem, index) => (\n                        <tr>\n                            <th scope=\"row\">{index + 1}</th>\n                            <td>{bookItem.bookId}</td>\n                            <td>{bookItem.bookTitle}</td>\n                            <td>{bookItem.user}</td>\n                            <td>{bookItem.days}</td>\n                            <td>{bookItem.rentFee}</td>\n                            <td>{\n                                (!bookItem.isConfirmed) ? (\n                                    <button type=\"button\" class=\"btn btn-primary\" \n                                    onClick={() => {\n                                        setConfirm(bookItem.bookId, bookItem._id);\n\n                                    }} >Confirm</button>\n                                ) : (\n                                    <button type=\"button\" class=\"btn btn-danger\" \n                                        onClick={()=>{\n                                            setCancel(bookItem.bookId, bookItem._id);\n                                        }\n                                        } name={bookItem._id}>Cancel</button>\n                                )\n                            }\n\n\n                            </td>\n                        </tr>\n                    ))}\n\n                </tbody>\n            </table>\n\n        </div>\n    )\n}\n\nexport default RentedBooks"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}