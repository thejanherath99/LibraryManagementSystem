{"ast":null,"code":"var _jsxFileName = \"D:\\\\New folder\\\\LibraryManagementSystem-MERN-main\\\\client\\\\src\\\\pages\\\\Login.js\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport { useNavigate } from \"react-router-dom\";\nimport { useState } from \"react\";\nimport Swal from 'sweetalert2';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_BASE = \"http://localhost:8080\";\nconst Login = () => {\n  _s();\n  const navigate = useNavigate();\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const checkLogin = async () => {\n    await fetch(API_BASE + \"/api/login\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email: email,\n        password: password\n      })\n    }).then(async res => {\n      await Swal.fire({\n        position: 'top-end',\n        icon: 'success',\n        title: 'Login Successful',\n        showConfirmButton: false,\n        timer: 1500\n      });\n      if (res.ok) navigate('/my-account');\n      return res.json();\n    }).then(async data => {\n      console.log(data.refreshToken);\n      localStorage.setItem('rfkey', data.refreshToken);\n      localStorage.setItem('isLogged', true);\n      await setUsername();\n      window.location.reload(false);\n    }).catch(async () => {});\n  };\n  const setUsername = async () => {\n    await fetch(API_BASE + \"/api/getUser\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        email: email\n      })\n    }).then(res => {\n      return res.json();\n    }).then(data => {\n      localStorage.setItem('username', data.username);\n      console.log(data.username);\n    });\n  };\n  return /*#__PURE__*/_jsxDEV(\"section\", {\n    class: \"vh-100\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      class: \"container-fluid h-custom h-100\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        class: \"row d-flex justify-content-center align-items-center h-100s h-100\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col-md-9 col-lg-6 col-xl-5\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: \"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.webp\",\n            class: \"img-fluid\",\n            alt: \"Sample\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"col-md-8 col-lg-6 col-xl-4 offset-xl-1\",\n          children: /*#__PURE__*/_jsxDEV(\"form\", {\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"form-outline mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"email\",\n                id: \"form3Example3\",\n                class: \"form-control form-control-lg\",\n                placeholder: \"Enter a valid email address\",\n                onChange: e => setEmail(e.target.value),\n                value: email\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 86,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                class: \"form-label\",\n                for: \"form3Example3\",\n                children: \"Email address\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 91,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 85,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"form-outline mb-3\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"password\",\n                id: \"form3Example4\",\n                class: \"form-control form-control-lg\",\n                placeholder: \"Enter password\",\n                onChange: e => setPassword(e.target.value),\n                value: password\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 96,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                class: \"form-label\",\n                for: \"form3Example4\",\n                children: \"Password\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 101,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 95,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"d-flex justify-content-between align-items-center\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                class: \"form-check mb-0\",\n                children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                  class: \"form-check-input me-2\",\n                  type: \"checkbox\",\n                  value: \"\",\n                  id: \"form2Example3\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 107,\n                  columnNumber: 37\n                }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n                  class: \"form-check-label\",\n                  for: \"form2Example3\",\n                  children: \"Remember me\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 37\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 106,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n                href: \"#!\",\n                class: \"text-body\",\n                children: \"Forgot password?\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 112,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              class: \"text-center text-lg-start mt-4 pt-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                class: \"btn btn-primary btn-lg\",\n                style: {\n                  paddingLeft: '2.5rem',\n                  paddingRight: '2.5rem'\n                },\n                onClick: () => {\n                  checkLogin();\n                },\n                children: \"Login\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 116,\n                columnNumber: 33\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                class: \"small fw-bold mt-2 pt-1 mb-0\",\n                children: [\"Don't have an account? \", /*#__PURE__*/_jsxDEV(\"a\", {\n                  href: \"#!\",\n                  class: \"link-danger\",\n                  children: \"Register\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 124,\n                  columnNumber: 96\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 124,\n                columnNumber: 33\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 115,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 81,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 73,\n    columnNumber: 9\n  }, this);\n};\n_s(Login, \"H+iueE6ppXbrBS3eFHdSUQUe0Ps=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["React","useNavigate","useState","Swal","API_BASE","Login","navigate","email","setEmail","password","setPassword","checkLogin","fetch","method","headers","body","JSON","stringify","then","res","fire","position","icon","title","showConfirmButton","timer","ok","json","data","console","log","refreshToken","localStorage","setItem","setUsername","window","location","reload","catch","username","e","target","value","paddingLeft","paddingRight"],"sources":["D:/New folder/LibraryManagementSystem-MERN-main/client/src/pages/Login.js"],"sourcesContent":["import React from 'react'\n\nimport { useNavigate } from \"react-router-dom\";\nimport { useState, } from \"react\";\nimport Swal from 'sweetalert2';\n\nconst API_BASE = \"http://localhost:8080\";\n\n\nconst Login = () => {\n   \n    const navigate = useNavigate();\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    const checkLogin = async () => {\n        await fetch(API_BASE + \"/api/login\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                email: email,\n                password: password\n            })\n        }).then(async(res) =>{\n            await Swal.fire({\n                position: 'top-end',\n                icon: 'success',\n                title: 'Login Successful',\n                showConfirmButton: false,\n                timer: 1500\n              })\n            if(res.ok) navigate('/my-account');\n            return res.json();\n        }).then(async(data) =>{\n            console.log(data.refreshToken)\n            localStorage.setItem('rfkey', data.refreshToken);\n            localStorage.setItem('isLogged', true);\n            await setUsername();\n            window.location.reload(false);\n            \n        }).catch(async()=>{\n\n        })\n        \n    }\n\n\n    const setUsername = async () => {\n        await fetch(API_BASE + \"/api/getUser\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                email: email\n        \n            })\n        }).then((res) =>{\n            return res.json();\n        }).then((data) =>{\n            localStorage.setItem('username', data.username);\n            console.log(data.username); \n        });\n\n        \n        \n    }\n\n    return (\n\n        <section class=\"vh-100\">\n            <div class=\"container-fluid h-custom h-100\">\n                <div class=\"row d-flex justify-content-center align-items-center h-100s h-100\">\n                    <div class=\"col-md-9 col-lg-6 col-xl-5\">\n                        <img src=\"https://mdbcdn.b-cdn.net/img/Photos/new-templates/bootstrap-login-form/draw2.webp\"\n                            class=\"img-fluid\" alt=\"Sample\" />\n                    </div>\n                    <div class=\"col-md-8 col-lg-6 col-xl-4 offset-xl-1\">\n                        <form>\n\n\n\n                            <div class=\"form-outline mb-4\">\n                                <input type=\"email\" id=\"form3Example3\" class=\"form-control form-control-lg\"\n                                    placeholder=\"Enter a valid email address\"\n                                    onChange={e => setEmail(e.target.value)}\n                                    value={email}\n                                />\n                                <label class=\"form-label\" for=\"form3Example3\">Email address</label>\n                            </div>\n\n\n                            <div class=\"form-outline mb-3\">\n                                <input type=\"password\" id=\"form3Example4\" class=\"form-control form-control-lg\"\n                                    placeholder=\"Enter password\"\n                                    onChange={e => setPassword(e.target.value)}\n                                    value={password}\n                                />\n                                <label class=\"form-label\" for=\"form3Example4\">Password</label>\n                            </div>\n\n                            <div class=\"d-flex justify-content-between align-items-center\">\n\n                                <div class=\"form-check mb-0\">\n                                    <input class=\"form-check-input me-2\" type=\"checkbox\" value=\"\" id=\"form2Example3\" />\n                                    <label class=\"form-check-label\" for=\"form2Example3\">\n                                        Remember me\n                                    </label>\n                                </div>\n                                <a href=\"#!\" class=\"text-body\">Forgot password?</a>\n                            </div>\n\n                            <div class=\"text-center text-lg-start mt-4 pt-2\">\n                                <button type=\"button\" class=\"btn btn-primary btn-lg\"\n                                    style={{ paddingLeft: '2.5rem', paddingRight: '2.5rem' }}\n                                    onClick={()=>{\n                                        checkLogin();\n                                        \n                                    }}\n                                >Login</button>\n                                \n                                <p class=\"small fw-bold mt-2 pt-1 mb-0\">Don't have an account? <a href=\"#!\"\n                                    class=\"link-danger\">Register</a></p>\n                            </div>\n\n                        </form>\n                    </div>\n                </div>\n            </div>\n\n        </section>\n\n    )\n}\n\nexport default Login"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}